<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="The functions perform systematic Data Quality Check"><title>fct_error_report — fct_error_report • ActivtityInfoQuality</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><link href="../deps/Lato-0.4.6/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.6/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="fct_error_report — fct_error_report"><meta property="og:description" content="The functions perform systematic Data Quality Check"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">ActivtityInfoQuality</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/development.html">Development</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/edouard-legoupil/ActivtityInfoQuality/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>fct_error_report</h1>
      <small class="dont-index">Source: <a href="https://github.com/edouard-legoupil/ActivtityInfoQuality/blob/HEAD/R/fct_error_report.R" class="external-link"><code>R/fct_error_report.R</code></a></small>
      <div class="d-none name"><code>fct_error_report.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The functions perform systematic Data Quality Check</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">fct_error_report</span><span class="op">(</span></span>
<span>  <span class="va">df5W</span>,</span>
<span>  <span class="va">lookup_dfadmin1</span>,</span>
<span>  <span class="va">lookup_dfadmin2</span>,</span>
<span>  <span class="va">lookup_dfindicator</span>,</span>
<span>  <span class="va">lookup_dfpartner</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>df5W</dt>
<dd><p>fame with response tracking data</p></dd>


<dt>lookup_dfadmin1</dt>
<dd><p>fame with admin1 look up</p></dd>


<dt>lookup_dfadmin2</dt>
<dd><p>fame with admin2 look up</p></dd>


<dt>lookup_dfindicator</dt>
<dd><p>fame with indicator look up</p></dd>


<dt>lookup_dfpartner</dt>
<dd><p>fame with partner look up</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>result list with results and data error...</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Currently this includes the 19 following Check:</p>
<p>__Completeness__:</p>
<p>1. missingcountry: Country and admin 1 information is missing.
 2. countryadmincheck: Administrative unit level 1 not matching the name in the ActivityInfo 5W "admin2" reference table.
 3.  admin1and2check: Administrative unit level 2 not matching the name for each respective admin1 in the ActivityInfo 5W "admin2" reference table. 
 4.  miss_appeal_org: Missing appealing organization or organization name not corresponding to the name included in the ActivityInfo 5W "partners" reference table
 5.  miss_setup: Checks if the field is empty, as it is mandatory to fill this variable with a "yes" for cases where there is an implementing partner, or with a "no" if the activity corresponds to direct implementation.
 6.  miss_implementing_org: If "yes" is selected in the "implementation set up" field, then a name for the implementing organization should be included in the corresponding field, otherwise it will retrieve an error.
 7.  miss_month: Missing month information.
 8.  missing_what: If there is missing information for the 5W "what" fields, more specifically: indicator sector, indicator, activity name, RMRP activity, and CVA.</p>  
<p>__Consistency__:
 9.  wrongsectindicator: If the indicator name does not correspond to the selected sector, as per the ActivityInfo 5W "indicators RMRP 23" reference table. 
 10.  zeroCVA: when the CVA field is "yes", then a CVA value in USD must be entered, otherwise it will retrieve an error.
 11.  missingmechanism: when the CVA field is "yes", then a CVA delivery mechanism must be entered, otherwise it will retrieve an error.
 12.  CVANotoYes: If the CVA = “No” but that the Value or Delivery Mechanism contains data, it will retrieve an error as those should be empty or the CVA should be “Yes”.          
 13.  MultipurposeSector: It will retrieve an error when the selected indicator sector is "Multipurpose Cash Assistance (MPC)" and CVA = "No". 
 14.  DirectAssistanceNoBenef: If the indicator type selected is "Direct Assistance" then there should be positive values entered for new monthly beneficiaries and total beneficiaries, otherwise it will retrieve an error.  
 15.  NewBenefvstotal: if the value for new monthly beneficiaries exceeds the value of total monthly beneficiaries.</p> 
<p>__Accuracy__:
 16.  PopTypeBreakdown:  For "Direct Assistance" indicators, checks if the sum of the population type breakdown equals the new beneficiaries value. If an ERROR appears, please review the breakdown values or the new beneficiaries' values in the corresponding activity
 17.  AGDBreakdown: For "Direct Assistance" indicators, checks if the sum of the age and gender breakdown equals the new beneficiaries' value. If an ERROR appears, please review the breakdown values or the new beneficiaries' values in the corresponding activity
 18.  CBuildingNoBenef: For "Capacity Building" indicators, checks if there is positive values for the total monthly beneficiaries field, as this field should be reported, otherwise it will retrieve an error.
 19.  NoOutput: For indicators other than the ones included under "Direct Assistance" and "Capacity Building", a value for"Quantity of Output" should always be reported, otherwise it will retrieve an error.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">lookup_dfadmin1</span> <span class="op">&lt;-</span> <span class="fu"><a href="fct_read_lookup.html">fct_read_lookup</a></span><span class="op">(</span>type <span class="op">=</span> <span class="st">"admin1"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">lookup_dfadmin2</span> <span class="op">&lt;-</span> <span class="fu"><a href="fct_read_lookup.html">fct_read_lookup</a></span><span class="op">(</span>type <span class="op">=</span> <span class="st">"admin2"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">lookup_dfpartner</span> <span class="op">&lt;-</span> <span class="fu"><a href="fct_read_lookup.html">fct_read_lookup</a></span><span class="op">(</span>type <span class="op">=</span> <span class="st">"partner"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">lookup_dfindicator</span> <span class="op">&lt;-</span> <span class="fu"><a href="fct_read_lookup.html">fct_read_lookup</a></span><span class="op">(</span>type <span class="op">=</span> <span class="st">"indicator"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">df5Wpart</span> <span class="op">&lt;-</span> <span class="fu"><a href="fct_read_data.html">fct_read_data</a></span><span class="op">(</span>filter <span class="op">=</span> <span class="st">"partner"</span>,</span></span>
<span class="r-in"><span>    value <span class="op">=</span> <span class="st">"United Nations High Commissioner for Refugees (UNHCR)"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">resultpart</span> <span class="op">&lt;-</span> <span class="fu">fct_error_report</span><span class="op">(</span><span class="va">df5Wpart</span>, </span></span>
<span class="r-in"><span>                               <span class="va">lookup_dfadmin1</span>, </span></span>
<span class="r-in"><span>                               <span class="va">lookup_dfadmin2</span>, </span></span>
<span class="r-in"><span>                               <span class="va">lookup_dfindicator</span>, </span></span>
<span class="r-in"><span>                               <span class="va">lookup_dfpartner</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Loading required package: ggplot2</span>
<span class="r-in"><span> </span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">resultpart</span><span class="op">$</span><span class="va">plot_Country</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="fct_error_report-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Second example</span></span></span>
<span class="r-in"><span><span class="va">df5Wctr</span> <span class="op">&lt;-</span> <span class="fu"><a href="fct_read_data.html">fct_read_data</a></span><span class="op">(</span>filter <span class="op">=</span> <span class="st">"country"</span>,</span></span>
<span class="r-in"><span>                         value <span class="op">=</span> <span class="st">"Peru"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">resultctr</span> <span class="op">&lt;-</span> <span class="fu">fct_error_report</span><span class="op">(</span><span class="va">df5Wctr</span>, </span></span>
<span class="r-in"><span>                               <span class="va">lookup_dfadmin1</span>, </span></span>
<span class="r-in"><span>                               <span class="va">lookup_dfadmin2</span>, </span></span>
<span class="r-in"><span>                               <span class="va">lookup_dfindicator</span>, </span></span>
<span class="r-in"><span>                               <span class="va">lookup_dfpartner</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">resultctr</span><span class="op">$</span><span class="va">plot_Appealing</span><span class="op">)</span> </span></span>
<span class="r-plt img"><img src="fct_error_report-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Display fixed data </span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">resultctr</span><span class="op">[[</span><span class="st">"ErrorReportclean"</span><span class="op">]</span><span class="op">]</span>, <span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 10 × 38</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Country Admin1 Admin2 Appealing_org Implementation Implementing_partner Month</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> Peru    Lima   Lima   United Natio… Yes            CEDRO                2023…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> Peru    Lima   Lima   Internationa… No             <span style="color: #BB0000;">NA</span>                   2023…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> Peru    Lima   Lima   Internationa… No             <span style="color: #BB0000;">NA</span>                   2023…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> Peru    Arequ… Arequ… United Natio… Yes            Encuentros SJS (Ser… 2023…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> Peru    Piura  Piura  Internationa… No             <span style="color: #BB0000;">NA</span>                   2023…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> Peru    Piura  Piura  Internationa… No             <span style="color: #BB0000;">NA</span>                   2023…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> Peru    Lima   Lima   Internationa… No             <span style="color: #BB0000;">NA</span>                   2023…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> Peru    Cusco  Cusco  Apurimac ETS  No             <span style="color: #BB0000;">NA</span>                   2023…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> Peru    Lima   Lima   United Natio… Yes            Programa de Soporte… 2023…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> Peru    Arequ… Arequ… Save the Chi… No             <span style="color: #BB0000;">NA</span>                   2023…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 31 more variables: Subsector &lt;chr&gt;, Indicator &lt;chr&gt;, Activity_Name &lt;chr&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   Activity_Description &lt;chr&gt;, RMRPActivity &lt;chr&gt;, CVA &lt;chr&gt;, Value &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   Delivery_mechanism &lt;chr&gt;, Quantity_output &lt;dbl&gt;, Total_monthly &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   New_beneficiaries &lt;dbl&gt;, IN_DESTINATION &lt;dbl&gt;, IN_TRANSIT &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   Host_Communities &lt;dbl&gt;, Girls &lt;dbl&gt;, Boys &lt;dbl&gt;, Women &lt;dbl&gt;, Men &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   Other_under &lt;dbl&gt;, Other_above &lt;dbl&gt;, countryadmin1 &lt;chr&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   Admin1and2 &lt;chr&gt;, sectorindicator &lt;chr&gt;, IndicatorType &lt;chr&gt;, …</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Edouard Legoupil.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

