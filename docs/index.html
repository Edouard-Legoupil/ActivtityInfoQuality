<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Performs Data Quality Check and Aggregation based on a
    reponse monitoring database.">
<title>ActivtityInfo Quality • ActivtityInfoQuality</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><link href="deps/Lato-0.4.6/font.css" rel="stylesheet">
<link href="deps/Source_Code_Pro-0.4.6/font.css" rel="stylesheet">
<!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="ActivtityInfo Quality">
<meta property="og:description" content="Performs Data Quality Check and Aggregation based on a
    reponse monitoring database.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">ActivtityInfoQuality</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/development.html">Development</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/edouard-legoupil/ActivtityInfoQuality/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="data-quality-control--aggregation-from-activityinfo">Data Quality Control &amp; Aggregation from ActivityInfo<a class="anchor" aria-label="anchor" href="#data-quality-control--aggregation-from-activityinfo"></a>
</h1></div>
<div class="section level2">
<h2 id="objectives">Objectives<a class="anchor" aria-label="anchor" href="#objectives"></a>
</h2>
<ol style="list-style-type: decimal">
<li><p>Control the quality of the data to avoid erroneous values, blanks…</p></li>
<li><p>Although Activity Info permit to put restrictions and validation rules, some of those can be overwritten, especially when doing bulk import of data, which is the most convenient form of importing data in Activity Info</p></li>
<li><p>Be able to flag the errors and apply automatic corrections or manual revisions, as desired by the data owner</p></li>
</ol>
<p>This package is the back office for a shny app visible here: <a href="https://rstudio.unhcr.org/ActivityInfo_R4V/" class="external-link">ActivityInfo_R4V/</a> and enable a scripted process so that:</p>
<ul>
<li><p>Check are consistent with Activity Info</p></li>
<li><p>Different scenario of aggregation models can be evaluated</p></li>
<li><p>Time and energy are saved</p></li>
<li><p>Reproducibility is enforced</p></li>
</ul>
<p>The consolidated report generation will only be working if the data is clean: errors in breakdowns in the activities will be in the consolidated report</p>
</div>
<div class="section level2">
<h2 id="background">Background<a class="anchor" aria-label="anchor" href="#background"></a>
</h2>
<div class="section level3">
<h3 id="challenges-with-manual-cleaning">Challenges with manual cleaning<a class="anchor" aria-label="anchor" href="#challenges-with-manual-cleaning"></a>
</h3>
<p>Filters and changes are applied manually, with no register of actions taken (which filter applied, which data name changed, deleted fields….)</p>
<p>Hard to go back at the beginning of your analysis and change features or settings without having to do again the whole process</p>
<p>Risk of data loss, work with non-updated files, back and forth with the versions</p>
</div>
<div class="section level3">
<h3 id="advantage-of-scripted-approach">Advantage of scripted approach<a class="anchor" aria-label="anchor" href="#advantage-of-scripted-approach"></a>
</h3>
<p>Each step taken is registered and can be modified at any time if needed</p>
<p>Reproducibility of the analysis, test various scenarios…</p>
<p>The script can be consulted and amended by several persons, with a tracking of the different versions in case we need to go back</p>
<p>Variety of outputs possible</p>
<p>Tailored analysis and products for each country, partners, sector….</p>
</div>
<div class="section level3">
<h3 id="quality-check">Quality Check<a class="anchor" aria-label="anchor" href="#quality-check"></a>
</h3>
<p>A series of errors are checked by the Data Quality check report. They can be divided in 3 categories:</p>
<ul>
<li><p><strong>Completeness</strong>: For instance, Missing values in mandatory fields i.e.: No Implementing partners</p></li>
<li><p><strong>Consistency</strong>: Country and Admin1 not matching, Activities with transferred values registered but CVA = “No”</p></li>
<li><p><strong>Accuracy</strong>: Incorrect or empty breakdown information</p></li>
</ul>
</div>
<div class="section level3">
<h3 id="automatic-cleaning">Automatic Cleaning<a class="anchor" aria-label="anchor" href="#automatic-cleaning"></a>
</h3>
<p>Automatic cleanings can be grouped in various categories:</p>
<ul>
<li><p>Automatic Yes or No for missing values</p></li>
<li><p>Automatic assignment of values between Quantity and beneficiary when erroneous</p></li>
<li><p>Automatic apportioning for empty fields</p></li>
<li><p>Automatic apportioning when discrepancies (overwrites values and need to be used with care)</p></li>
<li><p>Erase of extra data</p></li>
</ul>
</div>
<div class="section level3">
<h3 id="limitations-in-the-cleaning">Limitations in the cleaning<a class="anchor" aria-label="anchor" href="#limitations-in-the-cleaning"></a>
</h3>
<ul>
<li><p>Remaining mistakes that cannot be self-cleaned:</p></li>
<li><p>Missing categorical values that cannot be automatically assigned</p></li>
<li><p>Activities with empty values:</p></li>
<li><p>Apportioning of Age and Gender breakdown for People indicators</p></li>
</ul>
</div>
<div class="section level3">
<h3 id="review-for-the-cleaning">Review for the cleaning<a class="anchor" aria-label="anchor" href="#review-for-the-cleaning"></a>
</h3>
<ul>
<li><p>Review apportioning document by country and sector and possibility of more accurate breakdowns (by Admin1, by indicator,…)</p></li>
<li><p>Resolve the empty values issues</p></li>
</ul>
</div>
<div class="section level3">
<h3 id="data-aggregation">Data Aggregation<a class="anchor" aria-label="anchor" href="#data-aggregation"></a>
</h3>
<p>Aggregation models differ from a country to another and thus it is important to register the model you are applying for us to understand how they are processed.</p>
</div>
</div>
<div class="section level2">
<h2 id="for-dev">For DEV<a class="anchor" aria-label="anchor" href="#for-dev"></a>
</h2>
<p>The project was built from the <a href="https://www.activityinfo.org/support/docs/R/" class="external-link">{activityinfo}</a> R package and <a href="https://edouard-legoupil.github.io/graveler/" class="external-link">{graveler}</a> project template.</p>
<p>It includes a shiny app (<code><a href="reference/run_app.html">run_app()</a></code>) together with a few functions</p>
<ul>
<li>
<code>fct_read_lookup</code> allows to pull admin1, admin2, partner and country from ActivityInfo api</li>
<li>
<code>fct_read_data</code> pull the 5W info from ActivityInfo api potentially with filters</li>
<li>
<code>fct_error_report</code> performs the QA on the data</li>
<li>
<code>fct_aggregate_data</code> perform the data aggregation according to different scenario</li>
</ul>
</div>
<div class="section level2">
<h2 id="next-steps">Next Steps<a class="anchor" aria-label="anchor" href="#next-steps"></a>
</h2>
<ul>
<li><p>Update the Aggregation model for every country</p></li>
<li><p>Agree on Age and Gender breakdowns proportions for each sector, for PiN and People indicators</p></li>
<li><p>Help the development of local scripts for analysis, outliers detections,…</p></li>
<li><p>Send further development to the Script and App to help you more through GitHub</p></li>
</ul>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/edouard-legoupil/ActivtityInfoQuality/" class="external-link">Browse source code</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing ActivtityInfoQuality</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Edouard Legoupil <br><small class="roles"> Maintainer </small>  </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Edouard Legoupil.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
